(this["webpackJsonpchip-8"]=this["webpackJsonpchip-8"]||[]).push([[0],{78:function(t,e,n){},87:function(t,e,n){"use strict";n.r(e);var r,c=n(0),a=n(20),o=n.n(a),u=(n(78),n(39)),i=n.n(u),s=n(50),b=n(21),f=n(51),j=n(54),l=n(59),p=n.n(l),v=n(90),O=n(92),d=(n(79),n(93)),x=n(91),h=n(94),m=n(95),y=["title","titleId"];function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function F(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function g(t,e){var n=t.title,a=t.titleId,o=F(t,y);return c.createElement("svg",A({height:1792,viewBox:"0 0 1792 1792",width:1792,xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},o),n?c.createElement("title",{id:a},n):null,r||(r=c.createElement("path",{d:"m666 481q-60 92-137 273-22-45-37-72.5t-40.5-63.5-51-56.5-63-35-81.5-14.5h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224q250 0 410 225zm1126 799q0 14-9 23l-320 320q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-192q-32 0-85 .5t-81 1-73-1-71-5-64-10.5-63-18.5-58-28.5-59-40-55-53.5-56-69.5q59-93 136-273 22 45 37 72.5t40.5 63.5 51 56.5 63 35 81.5 14.5h256v-192q0-14 9-23t23-9q12 0 24 10l319 319q9 9 9 23zm0-896q0 14-9 23l-320 320q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-192h-256q-48 0-87 15t-69 45-51 61.5-45 77.5q-32 62-78 171-29 66-49.5 111t-54 105-64 100-74 83-90 68.5-106.5 42-128 16.5h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224q48 0 87-15t69-45 51-61.5 45-77.5q32-62 78-171 29-66 49.5-111t54-105 64-100 74-83 90-68.5 106.5-42 128-16.5h256v-192q0-14 9-23t23-9q12 0 24 10l319 319q9 9 9 23z"})))}var _,k,w=c.forwardRef(g),V=(n.p,n(9)),E=n(4),D=["stack"],R=["v"],S=["v"],T=["v"],L=["v"],q=["v"],C=["v"],M=["v"],B=["v"],P=["v"],I=["v"],N=["v"],K=["v"],U=["v"],Y=["v"],J=["v"],z=["memory"],G=["memory"],H=["v"],W={CLS:{pattern:/^E0$/,operation:function(t,e,n){return n.renderer.clear(),t}},RET:{pattern:/^EE$/,operation:function(t){var e=t.stack,n=Object(V.a)(t,D);return Object(E.a)(Object(E.a)({},n),{},{pc:e[e.length-1],stack:e.slice(0,-1)})}},JP_ADDR:{pattern:/1[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(E.a)(Object(E.a)({},t),{},{pc:n})}},CALL_ADDR:{pattern:/2[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(E.a)(Object(E.a)({},t),{},{stack:t.stack.concat(t.pc),pc:n})}},SE_Vx_BYTE:{pattern:/3[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.x,r=e.kk;return Object(E.a)(Object(E.a)({},t),{},{pc:t.v[n]===r?t.pc+2:t.pc})}},SNE_Vx_BYTE:{pattern:/4[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.x,r=e.kk;return Object(E.a)(Object(E.a)({},t),{},{pc:t.v[n]!==r?t.pc+2:t.pc})}},SE_Vx_Vy:{pattern:/5[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=e.x,r=e.y;return Object(E.a)(Object(E.a)({},t),{},{pc:t.v[n]===t.v[r]?t.pc+2:t.pc})}},LD_Vx_BYTE:{pattern:/6[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,R),c=e.x,a=e.kk;return n[c]=a,Object(E.a)(Object(E.a)({},r),{},{v:n})}},ADD_Vx_BYTE:{pattern:/7[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,S),c=e.x,a=e.kk;return n[c]=a+n[c],Object(E.a)(Object(E.a)({},r),{},{v:n})}},LD_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,T),c=e.x,a=e.y;return n[c]=n[a],Object(E.a)(Object(E.a)({},r),{},{v:n})}},OR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]1/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,L),c=e.x,a=e.y;return n[c]=n[c]|n[a],Object(E.a)(Object(E.a)({},r),{},{v:n})}},AND_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]2/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,q),c=e.x,a=e.y;return n[c]=n[c]&n[a],Object(E.a)(Object(E.a)({},r),{},{v:n})}},XOR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]3/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,C),c=e.x,a=e.y;return n[c]=n[c]^n[a],Object(E.a)(Object(E.a)({},r),{},{v:n})}},ADD_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]4/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,M),c=e.x,a=e.y,o=n[c]+n[a];return n[15]=o>255?1:0,n[c]=o,Object(E.a)(Object(E.a)({},r),{},{v:n})}},SUB_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]5/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,B),c=e.x,a=e.y,o=n[c]-n[a];return n[15]=o>0?1:0,n[c]=o,Object(E.a)(Object(E.a)({},r),{},{v:n})}},SHR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]6/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,P),c=e.x;return n[15]=1&n[c],n[c]=n[c]>>1,Object(E.a)(Object(E.a)({},r),{},{v:n})}},SUBN_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]7/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,I),c=e.x,a=n[e.y]-n[c];return n[15]=a>0?1:0,n[c]=a,Object(E.a)(Object(E.a)({},r),{},{v:n})}},SHL_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]E/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,N),c=e.x;return n[15]=n[c]>>7,n[c]=n[c]<<1,Object(E.a)(Object(E.a)({},r),{},{v:n})}},SNE_Vx_Vy:{pattern:/9[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=e.x,r=e.y;return Object(E.a)(Object(E.a)({},t),{},{pc:t.v[n]!==t.v[r]?t.pc+2:t.pc})}},LD_I_ADDR:{pattern:/A[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(E.a)(Object(E.a)({},t),{},{i:n})}},JP_V0_ADDR:{pattern:/B[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(E.a)(Object(E.a)({},t),{},{pc:n+t.v[0]})}},RND_Vx_BYTE:{pattern:/C[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,K),c=e.x,a=e.kk,o=Math.floor(255*Math.random());return n[c]=a&o,Object(E.a)(Object(E.a)({},r),{},{v:n})}},DRW_Vx_Vy_NIBBLE:{pattern:/D[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e,n){var r=t.v,c=Object(V.a)(t,U),a=e.x,o=e.y,u=e.n,i=n.renderer;r[15]=0;for(var s=0;s<u;s++)for(var b=c.memory[c.i+s],f=0;f<8;f++){var j=b&1<<7-f?1:0;i.setPixel(r[a]+f,r[o]+s,j)&&(r[15]=1)}return Object(E.a)(Object(E.a)({},c),{},{v:r})}},SKP_Vx:{pattern:/E[A-F0-9]9E/,operation:function(t,e,n){var r=e.x,c=n.keyboard;return Object(E.a)(Object(E.a)({},t),{},{pc:c.isKeyPressed(t.v[r])?t.pc+2:t.pc})}},SKNP_Vx:{pattern:/E[A-F0-9]A1/,operation:function(t,e,n){var r=e.x,c=n.keyboard;return Object(E.a)(Object(E.a)({},t),{},{pc:c.isKeyPressed(t.v[r])?t.pc:t.pc+2})}},LD_Vx_DT:{pattern:/F[A-F0-9]07/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,Y);return n[e.x]=r.delayTimer,Object(E.a)(Object(E.a)({},r),{},{v:n})}},LD_Vx_K:{pattern:/F[A-F0-9]0A/,operation:function(t,e,n){var r=t.v,c=Object(V.a)(t,J),a=e.x,o=n.keyboard,u=Object(E.a)(Object(E.a)({},c),{},{paused:!0});return o.setOnNextKeyPress((function(){return function(t){r[a]=t,u.v=r,u.paused=!1}})),u}},LD_DT_Vx:{pattern:/F[A-F0-9]15/,operation:function(t,e){var n=e.x;return Object(E.a)(Object(E.a)({},t),{},{delayTimer:t.v[n]})}},LD_ST_Vx:{pattern:/F[A-F0-9]18/,operation:function(t,e){var n=e.x;return Object(E.a)(Object(E.a)({},t),{},{soundTimer:t.v[n]})}},ADD_I_Vx:{pattern:/F[A-F0-9]1E/,operation:function(t,e){var n=e.x;return Object(E.a)(Object(E.a)({},t),{},{i:t.i+t.v[n]})}},LD_F_Vx:{pattern:/F[A-F0-9]29/,operation:function(t,e){var n=e.x;return Object(E.a)(Object(E.a)({},t),{},{i:5*t.v[n]})}},LD_B_Vx:{pattern:/F[A-F0-9]33/,operation:function(t,e){var n=t.memory,r=Object(V.a)(t,z),c=e.x;return r.v[c].toString().padStart(3,"0").split("").map((function(t){return Number(t)})).forEach((function(t,e){return n[r.i+e]=t})),Object(E.a)(Object(E.a)({},r),{},{memory:n})}},LD_I_Vx:{pattern:/F[A-F0-9]55/,operation:function(t,e){var n=t.memory,r=Object(V.a)(t,G),c=e.x;return r.v.slice(0,c+1).forEach((function(t,e){return n[r.i+e]=t})),Object(E.a)(Object(E.a)({},r),{},{memory:n})}},LD_Vx_I:{pattern:/F[A-F0-9]65/,operation:function(t,e){var n=t.v,r=Object(V.a)(t,H),c=e.x;return r.memory.slice(r.i,r.i+c+1).forEach((function(t,e){return n[e]=t})),Object(E.a)(Object(E.a)({},r),{},{v:n})}}},$=function(t){var e=4095&t,n=255&t,r=(3840&t)>>8,c=(240&t)>>4,a=15&t,o=Object.entries(W).find((function(e){var n=Object(b.a)(e,2)[1].pattern;return t.toString(16).toUpperCase().match(n)}));return{instruction:Object(b.a)(o,1)[0],nnn:e,kk:n,x:r,y:c,n:a}},X=[240,144,144,144,240,32,96,32,32,112,240,16,240,128,240,240,16,240,16,240,144,144,240,16,16,240,128,240,16,240,240,128,240,144,240,240,16,32,64,64,240,144,240,144,240,240,144,240,16,240,240,144,240,144,144,224,144,224,144,224,240,128,128,128,240,224,144,144,144,224,240,128,240,128,240,240,128,240,128,128],Q=["instruction"],Z={memory:new Uint8Array(4096),v:new Uint8Array(16),i:0,delayTimer:0,soundTimer:0,pc:512,stack:new Array,paused:!1,speed:10,debugMode:!1},tt=function(t,e,n){var r=Object(c.useRef)(Object(E.a)({},Z)),a=Object(c.useState)(null),o=Object(b.a)(a,2),u=o[0],i=o[1],s=function(){for(var e=0;e<r.current.speed;e++){var c=r.current,a=c.memory,o=c.pc;if(!c.paused){var u=a[o]<<8|a[o+1]<<0;r.current.pc=r.current.pc+2,f(u)}}r.current.paused||(r.current.delayTimer=Math.max(r.current.delayTimer-1,0),r.current.soundTimer=Math.max(r.current.soundTimer-1,0)),r.current.soundTimer>0?n.play(440):n.stop(),t.draw()},f=function(c){var a=$(c),o=a.instruction,u=Object(V.a)(a,Q),i=W[o].operation;r.current.debugMode&&console.log(o,u),r.current=i(r.current,u,{keyboard:e,renderer:t,speaker:n})};return{start:function(){if(!u){var t=setInterval(s,20);i(t)}},stop:function(){clearInterval(u),i(null)},isRunning:function(){return Boolean(u)},loadRom:function(t){r.current=Object(E.a)({},Z);for(var e=0;e<X.length;e++)r.current.memory[e]=X[e];for(var n=new Uint8Array(t),c=0;c<n.length;c++)r.current.memory[512+c]=n[c]},toggleLogging:function(){r.current.debugMode=!r.current.debugMode}}},et={49:1,50:2,51:3,52:12,81:4,87:5,69:6,82:13,65:7,83:8,68:9,70:14,90:10,88:0,67:11,86:15},nt=function(){var t=Object(c.useState)([]),e=Object(b.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),o=Object(b.a)(a,2),u=o[0],i=o[1];return Object(c.useEffect)((function(){var t=function(t){var e=t.keyCode,n=et[e];void 0!==n&&(r((function(t){return t[n]=!0,t})),null!==u&&(u(n),i(null)))},e=function(t){var e=t.keyCode,n=et[e];void 0!==n&&r((function(t){return t[n]=!1,t}))};return window.addEventListener("keydown",t,!1),window.addEventListener("keyup",e,!1),function(){window.removeEventListener("keydown",t,!1),window.removeEventListener("keyup",e,!1)}}),[u]),{isKeyPressed:function(t){return n[t]},setOnNextKeyPress:i}},rt=64,ct=function(t,e){return Array.from({length:t}).map((function(){return Array.from({length:e}).fill(0)}))},at=function(t){var e=Object(c.useRef)(null),n=Object(c.useRef)(ct(rt,32)),r=Object(c.useRef)(1),a=Object(c.useRef)(t);Object(c.useEffect)((function(){var t=e.current,n=t.getContext("2d");t.style.width="100%",r.current=t.offsetWidth/rt,n.canvas.width=rt*r.current,n.canvas.height=32*r.current}),[e]),Object(c.useEffect)((function(){a.current=t}),[t]);return{ref:e,draw:function(){var t=e.current.getContext("2d");t.fillStyle=a.current.background,t.fillRect(0,0,rt*r.current,32*r.current),t.fillStyle=a.current.fill,n.current.forEach((function(e,n){return e.forEach((function(e,c){return e&&t.fillRect(n*r.current,c*r.current,Math.ceil(r.current+1),Math.ceil(r.current+1))}))}))},setPixel:function(t,e,r){t%=rt,e%=32;var c=n.current[t][e]&r;return n.current[t][e]^=r,c},clear:function(){n.current=ct(rt,32)}}},ot=function(){var t=Object(c.useRef)(new(window.AudioContext||window.webkitAudioContext)),e=Object(c.useRef)(t.current.createGain()),n=Object(c.useRef)(null);Object(c.useEffect)((function(){var n=t.current.destination;e.current.connect(n)}),[t,e]);return{play:function(r){!n.current&&t.current&&(n.current=t.current.createOscillator(),n.current.frequency.setValueAtTime(r||440,t.current.currentTime),n.current.type="square",n.current.connect(e.current),n.current.start())},stop:function(){n.current&&(n.current.stop(),n.current.disconnect(),n.current=null)},setMute:function(n){e.current.setValueAtTime(n,t.currentTime)}}},ut=n(8),it=v.a.Content,st=v.a.Sider,bt=O.a.Item,ft=O.a.SubMenu,jt=Object(j.a)(v.a)(_||(_=Object(f.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n"]))),lt=Object(j.a)(it)(k||(k=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]))),pt={fill:"#FFFFFF",background:"#EAD7D7"},vt={fill:"#b4e5af",background:"#000000"},Ot=function(){var t=Object(c.useState)(vt),e=Object(b.a)(t,2),n=e[0],r=e[1],a=nt(),o=ot(),u=at(n),f=tt(u,a,o),j=Object(c.useState)([]),l=Object(b.a)(j,2),y=l[0],A=l[1];Object(c.useEffect)((function(){(function(){var t=Object(s.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("/chip8","/roms/index.json"));case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,A(n),F(n[Math.floor(Math.random()*n.length)]);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var F=function(){var t=Object(s.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.clear(),t.next=3,fetch("".concat("/chip8","/roms/").concat(e));case 3:return n=t.sent,t.t0=f,t.next=7,n.arrayBuffer();case 7:t.t1=t.sent,t.t0.loadRom.call(t.t0,t.t1),f.start();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=p()(n.background).isLight()?"light":"dark";return Object(ut.jsxs)(jt,{children:[Object(ut.jsx)(st,{width:"250px",collapsible:!0,defaultCollapsed:!0,theme:g,style:{overflow:"auto"},children:Object(ut.jsxs)(O.a,{theme:g,mode:"inline",children:[Object(ut.jsxs)(ft,{icon:Object(ut.jsx)(d.a,{}),title:"Games",style:{marginTop:"20px"},children:[Object(ut.jsxs)(bt,{onClick:function(){F(y[Math.floor(Math.random()*y.length)])},children:[Object(ut.jsx)(x.a,{component:w})," Random"]},"randomrom"),y.map((function(t){return Object(ut.jsx)(bt,{onClick:function(){return F(t)},children:t.match(/[^.]+/)},t)}))]},"games"),Object(ut.jsxs)(ft,{icon:Object(ut.jsx)(h.a,{}),title:"Themes",children:[Object(ut.jsxs)(bt,{onClick:function(){return function(){var t=function(){return"#".concat(Math.floor(Math.random()*Math.pow(2,24)).toString(16).padStart(6,0))};r({fill:t(),background:t()})}()},children:[Object(ut.jsx)(x.a,{component:w})," Random"]},"randomtheme"),Object(ut.jsx)(bt,{onClick:function(){return r(vt)},children:"Dark"},"dark"),Object(ut.jsx)(bt,{onClick:function(){return r(pt)},children:"Light"},"light")]},"themes"),Object(ut.jsxs)(ft,{icon:Object(ut.jsx)(m.a,{}),title:"Dev Tools",children:[f.isRunning()?Object(ut.jsx)(bt,{onClick:function(){return f.stop()},children:"Pause"},"pause"):Object(ut.jsx)(bt,{onClick:function(){return f.start()},children:"Resume"},"resume"),Object(ut.jsx)(bt,{onClick:function(){return f.toggleLogging()},children:"Toggle Console Logging"},"console")]},"devtools")]})}),Object(ut.jsx)(v.a,{children:Object(ut.jsx)(lt,{style:{background:n.background},children:Object(ut.jsx)("canvas",{ref:u.ref})})})]})};o.a.render(Object(ut.jsx)(Ot,{}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.e9640a6f.chunk.js.map