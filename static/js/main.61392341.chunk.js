(this["webpackJsonpchip-8"]=this["webpackJsonpchip-8"]||[]).push([[0],{169:function(t,e,n){"use strict";n.r(e);var r,c=n(0),a=n(20),o=n.n(a),u=(n(94),n(12)),i=n(27),s=n(3),f=n(62),b=n(63),j=n(81),p=n.n(j),v=n(174),l=n(176),O=(n(95),n(177)),d=n(175),h=n(178),x=n(179),m=["title","titleId"];function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y.apply(this,arguments)}function A(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function F(t,e){var n=t.title,a=t.titleId,o=A(t,m);return c.createElement("svg",y({height:1792,viewBox:"0 0 1792 1792",width:1792,xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},o),n?c.createElement("title",{id:a},n):null,r||(r=c.createElement("path",{d:"m666 481q-60 92-137 273-22-45-37-72.5t-40.5-63.5-51-56.5-63-35-81.5-14.5h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224q250 0 410 225zm1126 799q0 14-9 23l-320 320q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-192q-32 0-85 .5t-81 1-73-1-71-5-64-10.5-63-18.5-58-28.5-59-40-55-53.5-56-69.5q59-93 136-273 22 45 37 72.5t40.5 63.5 51 56.5 63 35 81.5 14.5h256v-192q0-14 9-23t23-9q12 0 24 10l319 319q9 9 9 23zm0-896q0 14-9 23l-320 320q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-192h-256q-48 0-87 15t-69 45-51 61.5-45 77.5q-32 62-78 171-29 66-49.5 111t-54 105-64 100-74 83-90 68.5-106.5 42-128 16.5h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224q48 0 87-15t69-45 51-61.5 45-77.5q32-62 78-171 29-66 49.5-111t54-105 64-100 74-83 90-68.5 106.5-42 128-16.5h256v-192q0-14 9-23t23-9q12 0 24 10l319 319q9 9 9 23z"})))}var g,_,k=c.forwardRef(F),w=(n.p,n(5)),V=n(1),E=["stack"],D=["v"],S=["v"],R=["v"],L=["v"],T=["v"],C=["v"],q=["v"],B=["v"],M=["v"],P=["v"],I=["v"],N=["v"],K=["v"],U=["v"],Y=["v"],J=["memory"],z=["memory"],G=["v"],H={CLS:{pattern:/^E0$/,operation:function(t,e,n){return n.renderer.clear(),t}},RET:{pattern:/^EE$/,operation:function(t){var e=t.stack,n=Object(w.a)(t,E);return Object(V.a)(Object(V.a)({},n),{},{pc:e[e.length-1],stack:e.slice(0,-1)})}},JP_ADDR:{pattern:/1[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{pc:n})}},CALL_ADDR:{pattern:/2[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{stack:t.stack.concat(t.pc),pc:n})}},SE_Vx_BYTE:{pattern:/3[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.x,r=e.kk;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]===r?t.pc+2:t.pc})}},SNE_Vx_BYTE:{pattern:/4[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.x,r=e.kk;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]!==r?t.pc+2:t.pc})}},SE_Vx_Vy:{pattern:/5[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=e.x,r=e.y;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]===t.v[r]?t.pc+2:t.pc})}},LD_Vx_BYTE:{pattern:/6[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,D),c=e.x,a=e.kk;return n[c]=a,Object(V.a)(Object(V.a)({},r),{},{v:n})}},ADD_Vx_BYTE:{pattern:/7[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,S),c=e.x,a=e.kk;return n[c]=a+n[c],Object(V.a)(Object(V.a)({},r),{},{v:n})}},LD_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,R),c=e.x,a=e.y;return n[c]=n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},OR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]1/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,L),c=e.x,a=e.y;return n[c]=n[c]|n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},AND_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]2/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,T),c=e.x,a=e.y;return n[c]=n[c]&n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},XOR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]3/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,C),c=e.x,a=e.y;return n[c]=n[c]^n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},ADD_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]4/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,q),c=e.x,a=e.y,o=n[c]+n[a];return n[15]=o>255?1:0,n[c]=o,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SUB_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]5/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,B),c=e.x,a=e.y,o=n[c]-n[a];return n[15]=o>0?1:0,n[c]=o,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SHR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]6/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,M),c=e.x;return n[15]=1&n[c],n[c]=n[c]>>1,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SUBN_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]7/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,P),c=e.x,a=n[e.y]-n[c];return n[15]=a>0?1:0,n[c]=a,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SHL_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]E/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,I),c=e.x;return n[15]=n[c]>>7,n[c]=n[c]<<1,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SNE_Vx_Vy:{pattern:/9[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=e.x,r=e.y;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]!==t.v[r]?t.pc+2:t.pc})}},LD_I_ADDR:{pattern:/A[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{i:n})}},JP_V0_ADDR:{pattern:/B[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{pc:n+t.v[0]})}},RND_Vx_BYTE:{pattern:/C[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,N),c=e.x,a=e.kk,o=Math.floor(255*Math.random());return n[c]=a&o,Object(V.a)(Object(V.a)({},r),{},{v:n})}},DRW_Vx_Vy_NIBBLE:{pattern:/D[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e,n){var r=t.v,c=Object(w.a)(t,K),a=e.x,o=e.y,u=e.n,i=n.renderer;r[15]=0;for(var s=0;s<u;s++)for(var f=c.memory[c.i+s],b=0;b<8;b++){var j=f&1<<7-b?1:0;i.setPixel(r[a]+b,r[o]+s,j)&&(r[15]=1)}return Object(V.a)(Object(V.a)({},c),{},{v:r})}},SKP_Vx:{pattern:/E[A-F0-9]9E/,operation:function(t,e,n){var r=e.x,c=n.keyboard;return Object(V.a)(Object(V.a)({},t),{},{pc:c.isKeyPressed(t.v[r])?t.pc+2:t.pc})}},SKNP_Vx:{pattern:/E[A-F0-9]A1/,operation:function(t,e,n){var r=e.x,c=n.keyboard;return Object(V.a)(Object(V.a)({},t),{},{pc:c.isKeyPressed(t.v[r])?t.pc:t.pc+2})}},LD_Vx_DT:{pattern:/F[A-F0-9]07/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,U);return n[e.x]=r.delayTimer,Object(V.a)(Object(V.a)({},r),{},{v:n})}},LD_Vx_K:{pattern:/F[A-F0-9]0A/,operation:function(t,e,n){var r=t.v,c=Object(w.a)(t,Y),a=e.x,o=n.keyboard,u=Object(V.a)(Object(V.a)({},c),{},{paused:!0});return o.setOnNextKeyPress((function(){return function(t){r[a]=t,u.v=r,u.paused=!1}})),u}},LD_DT_Vx:{pattern:/F[A-F0-9]15/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{delayTimer:t.v[n]})}},LD_ST_Vx:{pattern:/F[A-F0-9]18/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{soundTimer:t.v[n]})}},ADD_I_Vx:{pattern:/F[A-F0-9]1E/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{i:t.i+t.v[n]})}},LD_F_Vx:{pattern:/F[A-F0-9]29/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{i:5*t.v[n]})}},LD_B_Vx:{pattern:/F[A-F0-9]33/,operation:function(t,e){var n=t.memory,r=Object(w.a)(t,J),c=e.x;return r.v[c].toString().padStart(3,"0").split("").map((function(t){return Number(t)})).forEach((function(t,e){return n[r.i+e]=t})),Object(V.a)(Object(V.a)({},r),{},{memory:n})}},LD_I_Vx:{pattern:/F[A-F0-9]55/,operation:function(t,e){var n=t.memory,r=Object(w.a)(t,z),c=e.x;return r.v.slice(0,c+1).forEach((function(t,e){return n[r.i+e]=t})),Object(V.a)(Object(V.a)({},r),{},{memory:n})}},LD_Vx_I:{pattern:/F[A-F0-9]65/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,G),c=e.x;return r.memory.slice(r.i,r.i+c+1).forEach((function(t,e){return n[e]=t})),Object(V.a)(Object(V.a)({},r),{},{v:n})}}},W=function(t){var e=4095&t,n=255&t,r=(3840&t)>>8,c=(240&t)>>4,a=15&t,o=Object.entries(H).find((function(e){var n=Object(s.a)(e,2)[1].pattern;return t.toString(16).toUpperCase().match(n)}));return{instruction:Object(s.a)(o,1)[0],nnn:e,kk:n,x:r,y:c,n:a}},$=[240,144,144,144,240,32,96,32,32,112,240,16,240,128,240,240,16,240,16,240,144,144,240,16,16,240,128,240,16,240,240,128,240,144,240,240,16,32,64,64,240,144,240,144,240,240,144,240,16,240,240,144,240,144,144,224,144,224,144,224,240,128,128,128,240,224,144,144,144,224,240,128,240,128,240,240,128,240,128,128],X=["instruction"],Q={memory:new Uint8Array(4096),v:new Uint8Array(16),i:0,delayTimer:0,soundTimer:0,pc:512,stack:new Array,paused:!1,speed:10,debugMode:!1},Z=function(t,e,n){var r=Object(c.useRef)(Object(V.a)({},Q)),a=Object(c.useState)(null),o=Object(s.a)(a,2),u=o[0],i=o[1],f=function(){for(var e=0;e<r.current.speed;e++){var c=r.current,a=c.memory,o=c.pc;if(!c.paused){var u=a[o]<<8|a[o+1]<<0;r.current.pc=r.current.pc+2,b(u)}}r.current.paused||(r.current.delayTimer=Math.max(r.current.delayTimer-1,0),r.current.soundTimer=Math.max(r.current.soundTimer-1,0)),r.current.soundTimer>0&&n.play(),t.draw()},b=function(c){var a=W(c),o=a.instruction,u=Object(w.a)(a,X),i=H[o].operation;r.current.debugMode&&console.log(o,u),r.current=i(r.current,u,{keyboard:e,renderer:t,speaker:n})};return{start:function(){if(!u){var t=setInterval(f,20);i(t)}},stop:function(){clearInterval(u),i(null)},isRunning:function(){return Boolean(u)},loadRom:function(t){r.current=Object(V.a)({},Q);for(var e=0;e<$.length;e++)r.current.memory[e]=$[e];for(var n=new Uint8Array(t),c=0;c<n.length;c++)r.current.memory[512+c]=n[c]},toggleLogging:function(){r.current.debugMode=!r.current.debugMode}}},tt={49:1,50:2,51:3,52:12,81:4,87:5,69:6,82:13,65:7,83:8,68:9,70:14,90:10,88:0,67:11,86:15},et=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),o=Object(s.a)(a,2),u=o[0],i=o[1];return Object(c.useEffect)((function(){var t=function(t){var e=t.keyCode,n=tt[e];void 0!==n&&(r((function(t){return t[n]=!0,t})),null!==u&&(u(n),i(null)))},e=function(t){var e=t.keyCode,n=tt[e];void 0!==n&&r((function(t){return t[n]=!1,t}))};return window.addEventListener("keydown",t,!1),window.addEventListener("keyup",e,!1),function(){window.removeEventListener("keydown",t,!1),window.removeEventListener("keyup",e,!1)}}),[u]),{isKeyPressed:function(t){return n[t]},setOnNextKeyPress:i}},nt=64,rt=function(t,e){return Array.from({length:t}).map((function(){return Array.from({length:e}).map((function(){return[0,0,0]}))}))},ct=function(t){var e=Object(c.useRef)(null),n=Object(c.useRef)(rt(nt,32)),r=Object(c.useRef)(!0),a=Object(c.useRef)(1),o=Object(c.useRef)(t);Object(c.useEffect)((function(){var t=e.current,n=t.getContext("2d");t.style.width="100%",a.current=t.offsetWidth/nt,n.canvas.width=nt*a.current,n.canvas.height=32*a.current}),[e]),Object(c.useEffect)((function(){o.current=t}),[t]);return{ref:e,draw:function(){var t=e.current.getContext("2d");t.fillStyle=o.current.background,t.fillRect(0,0,nt*a.current,32*a.current),t.fillStyle=o.current.fill,n.current.forEach((function(e,c){return e.forEach((function(e,o){(r.current?e:e.slice(0,1)).some(Boolean)&&t.fillRect(c*a.current,o*a.current,Math.ceil(a.current+1),Math.ceil(a.current+1)),n.current[c][o].unshift(e[0]),n.current[c][o].pop()}))}))},setPixel:function(t,e,r){t%=nt,e%=32;var c=n.current[t][e][0]&r;return n.current[t][e][0]^=r,c},clear:function(){n.current=rt(nt,32)},toggleSmoothing:function(){r.current=!r.current}}},at=function(){var t=Object(c.useRef)(new(window.AudioContext||window.webkitAudioContext)),e=Object(c.useRef)([]),n=Object(c.useRef)(!1);Object(c.useEffect)((function(){var n=function(){var n=Object(i.a)(Object(u.a)().mark((function n(){var r;return Object(u.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(Array.from({length:3}).map(function(){var e=Object(i.a)(Object(u.a)().mark((function e(n,r){var c,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/chip8","/mallet").concat(r+1,".mp3"));case 2:return c=e.sent,e.next=5,c.arrayBuffer();case 5:return a=e.sent,e.abrupt("return",t.current.decodeAudioData(a));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 2:r=n.sent,e.current=r;case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);return{play:function(){if(!n.current&&t.current){var r=t.current.createBufferSource(),c=e.current;r.buffer=c[Math.floor(Math.random()*c.length)],r.connect(t.current.destination),r.start(),n.current=!0,setTimeout((function(){return n.current=!1}),100)}}}},ot=n(7),ut=v.a.Content,it=v.a.Sider,st=l.a.Item,ft=l.a.SubMenu,bt=Object(b.a)(v.a)(g||(g=Object(f.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n"]))),jt=Object(b.a)(ut)(_||(_=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]))),pt={fill:"#FFFFFF",background:"#EAD7D7"},vt={fill:"#b4e5af",background:"#000000"},lt=function(){var t=Object(c.useState)(vt),e=Object(s.a)(t,2),n=e[0],r=e[1],a=et(),o=at(),f=ct(n),b=Z(f,a,o),j=Object(c.useState)([]),m=Object(s.a)(j,2),y=m[0],A=m[1];Object(c.useEffect)((function(){var t=function(){var t=Object(i.a)(Object(u.a)().mark((function t(){var e,n;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("/chip8","/roms/index.json"));case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,A(n),g();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var F=function(){var t=Object(i.a)(Object(u.a)().mark((function t(e){var n;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.clear(),t.next=3,fetch("".concat("/chip8","/roms/").concat(e));case 3:return n=t.sent,t.t0=b,t.next=7,n.arrayBuffer();case 7:t.t1=t.sent,t.t0.loadRom.call(t.t0,t.t1),b.start();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(Object(u.a)().mark((function t(){var e,n,r;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=y.find((function(t){return"Chip8 Emulator Logo [Garstyciuks].ch8"===t})),n=y.find((function(t){return"IBM Logo.ch8"===t})),r=y.find((function(t){return"Pong (1 player).ch8"===t})),F(e),t.next=6,new Promise((function(t){return setTimeout(t,1500)}));case 6:return F(n),t.next=9,new Promise((function(t){return setTimeout(t,1500)}));case 9:F(r);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=p()(n.background).isLight()?"light":"dark";return Object(ot.jsxs)(bt,{children:[Object(ot.jsx)(it,{width:"250px",collapsible:!0,defaultCollapsed:!0,theme:_,style:{overflow:"auto"},children:Object(ot.jsxs)(l.a,{theme:_,mode:"inline",children:[Object(ot.jsxs)(ft,{icon:Object(ot.jsx)(O.a,{}),title:"Games",style:{marginTop:"20px"},children:[Object(ot.jsxs)(st,{onClick:function(){F(y[Math.floor(Math.random()*y.length)])},children:[Object(ot.jsx)(d.a,{component:k})," Random"]},"randomrom"),y.map((function(t){return Object(ot.jsx)(st,{onClick:function(){return F(t)},children:t.match(/[^.]+/)},t)}))]},"games"),Object(ot.jsxs)(ft,{icon:Object(ot.jsx)(h.a,{}),title:"Themes",children:[Object(ot.jsxs)(st,{onClick:function(){return function(){var t=function(){return"#".concat(Math.floor(Math.random()*Math.pow(2,24)).toString(16).padStart(6,0))};r({fill:t(),background:t()})}()},children:[Object(ot.jsx)(d.a,{component:k})," Random"]},"randomtheme"),Object(ot.jsx)(st,{onClick:function(){return r(vt)},children:"Dark"},"dark"),Object(ot.jsx)(st,{onClick:function(){return r(pt)},children:"Light"},"light")]},"themes"),Object(ot.jsxs)(ft,{icon:Object(ot.jsx)(x.a,{}),title:"Dev Tools",children:[b.isRunning()?Object(ot.jsx)(st,{onClick:function(){return b.stop()},children:"Pause"},"pause"):Object(ot.jsx)(st,{onClick:function(){return b.start()},children:"Resume"},"resume"),Object(ot.jsx)(st,{onClick:function(){return b.toggleLogging()},children:"Toggle Console Logging"},"console"),Object(ot.jsx)(st,{onClick:function(){return f.toggleSmoothing()},children:"Toggle Smoothing"},"smoothing")]},"devtools")]})}),Object(ot.jsx)(v.a,{children:Object(ot.jsx)(jt,{style:{background:n.background},children:Object(ot.jsx)("canvas",{ref:f.ref})})})]})};o.a.render(Object(ot.jsx)(lt,{}),document.getElementById("root"))},94:function(t,e,n){}},[[169,1,2]]]);
//# sourceMappingURL=main.61392341.chunk.js.map