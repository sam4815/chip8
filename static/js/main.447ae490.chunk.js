(this["webpackJsonpchip-8"]=this["webpackJsonpchip-8"]||[]).push([[0],{76:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(20),a=n.n(c),o=(n(76),n(40)),u=n.n(o),i=n(50),s=n(21),b=n(51),f=n(54),j=n(58),l=n.n(j),p=n(85),v=n(87),O=(n(77),n(88)),d=n(86),x=n(89),h=n(90);function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}var A=r.createElement("path",{d:"m666 481q-60 92-137 273-22-45-37-72.5t-40.5-63.5-51-56.5-63-35-81.5-14.5h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224q250 0 410 225zm1126 799q0 14-9 23l-320 320q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-192q-32 0-85 .5t-81 1-73-1-71-5-64-10.5-63-18.5-58-28.5-59-40-55-53.5-56-69.5q59-93 136-273 22 45 37 72.5t40.5 63.5 51 56.5 63 35 81.5 14.5h256v-192q0-14 9-23t23-9q12 0 24 10l319 319q9 9 9 23zm0-896q0 14-9 23l-320 320q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-192h-256q-48 0-87 15t-69 45-51 61.5-45 77.5q-32 62-78 171-29 66-49.5 111t-54 105-64 100-74 83-90 68.5-106.5 42-128 16.5h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224q48 0 87-15t69-45 51-61.5 45-77.5q32-62 78-171 29-66 49.5-111t54-105 64-100 74-83 90-68.5 106.5-42 128-16.5h256v-192q0-14 9-23t23-9q12 0 24 10l319 319q9 9 9 23z"});function F(t,e){var n=t.title,c=t.titleId,a=y(t,["title","titleId"]);return r.createElement("svg",m({height:1792,viewBox:"0 0 1792 1792",width:1792,xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,A)}var g,_,k=r.forwardRef(F),w=(n.p,n(9)),V=n(4),E={CLS:{pattern:/^E0$/,operation:function(t,e,n){return n.renderer.clear(),t}},RET:{pattern:/^EE$/,operation:function(t){var e=t.stack,n=Object(w.a)(t,["stack"]);return Object(V.a)(Object(V.a)({},n),{},{pc:e[e.length-1],stack:e.slice(0,-1)})}},JP_ADDR:{pattern:/1[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{pc:n})}},CALL_ADDR:{pattern:/2[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{stack:t.stack.concat(t.pc),pc:n})}},SE_Vx_BYTE:{pattern:/3[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.x,r=e.kk;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]===r?t.pc+2:t.pc})}},SNE_Vx_BYTE:{pattern:/4[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.x,r=e.kk;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]!==r?t.pc+2:t.pc})}},SE_Vx_Vy:{pattern:/5[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=e.x,r=e.y;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]===t.v[r]?t.pc+2:t.pc})}},LD_Vx_BYTE:{pattern:/6[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.kk;return n[c]=a,Object(V.a)(Object(V.a)({},r),{},{v:n})}},ADD_Vx_BYTE:{pattern:/7[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.kk;return n[c]=a+n[c],Object(V.a)(Object(V.a)({},r),{},{v:n})}},LD_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.y;return n[c]=n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},OR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]1/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.y;return n[c]=n[c]|n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},AND_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]2/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.y;return n[c]=n[c]&n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},XOR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]3/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.y;return n[c]=n[c]^n[a],Object(V.a)(Object(V.a)({},r),{},{v:n})}},ADD_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]4/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.y,o=n[c]+n[a];return n[15]=o>255?1:0,n[c]=o,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SUB_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]5/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.y,o=n[c]-n[a];return n[15]=o>0?1:0,n[c]=o,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SHR_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]6/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x;return n[15]=1&n[c],n[c]=n[c]>>1,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SUBN_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]7/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=n[e.y]-n[c];return n[15]=a>0?1:0,n[c]=a,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SHL_Vx_Vy:{pattern:/8[A-F0-9][A-F0-9]E/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x;return n[15]=n[c]>>7,n[c]=n[c]<<1,Object(V.a)(Object(V.a)({},r),{},{v:n})}},SNE_Vx_Vy:{pattern:/9[A-F0-9][A-F0-9]0/,operation:function(t,e){var n=e.x,r=e.y;return Object(V.a)(Object(V.a)({},t),{},{pc:t.v[n]!==t.v[r]?t.pc+2:t.pc})}},LD_I_ADDR:{pattern:/A[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{i:n})}},JP_V0_ADDR:{pattern:/B[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=e.nnn;return Object(V.a)(Object(V.a)({},t),{},{pc:n+t.v[0]})}},RND_Vx_BYTE:{pattern:/C[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x,a=e.kk,o=Math.floor(255*Math.random());return n[c]=a&o,Object(V.a)(Object(V.a)({},r),{},{v:n})}},DRW_Vx_Vy_NIBBLE:{pattern:/D[A-F0-9][A-F0-9][A-F0-9]/,operation:function(t,e,n){var r=t.v,c=Object(w.a)(t,["v"]),a=e.x,o=e.y,u=e.n,i=n.renderer;r[15]=0;for(var s=0;s<u;s++)for(var b=c.memory[c.i+s],f=0;f<8;f++){var j=b&1<<7-f?1:0;i.setPixel(r[a]+f,r[o]+s,j)&&(r[15]=1)}return Object(V.a)(Object(V.a)({},c),{},{v:r})}},SKP_Vx:{pattern:/E[A-F0-9]9E/,operation:function(t,e,n){var r=e.x,c=n.keyboard;return Object(V.a)(Object(V.a)({},t),{},{pc:c.isKeyPressed(t.v[r])?t.pc+2:t.pc})}},SKNP_Vx:{pattern:/E[A-F0-9]A1/,operation:function(t,e,n){var r=e.x,c=n.keyboard;return Object(V.a)(Object(V.a)({},t),{},{pc:c.isKeyPressed(t.v[r])?t.pc:t.pc+2})}},LD_Vx_DT:{pattern:/F[A-F0-9]07/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]);return n[e.x]=r.delayTimer,Object(V.a)(Object(V.a)({},r),{},{v:n})}},LD_Vx_K:{pattern:/F[A-F0-9]0A/,operation:function(t,e,n){var r=t.v,c=Object(w.a)(t,["v"]),a=e.x,o=n.keyboard,u=Object(V.a)(Object(V.a)({},c),{},{paused:!0});return o.setOnNextKeyPress((function(){return function(t){r[a]=t,u.v=r,u.paused=!1}})),u}},LD_DT_Vx:{pattern:/F[A-F0-9]15/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{delayTimer:t.v[n]})}},LD_ST_Vx:{pattern:/F[A-F0-9]18/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{soundTimer:t.v[n]})}},ADD_I_Vx:{pattern:/F[A-F0-9]1E/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{i:t.i+t.v[n]})}},LD_F_Vx:{pattern:/F[A-F0-9]29/,operation:function(t,e){var n=e.x;return Object(V.a)(Object(V.a)({},t),{},{i:5*t.v[n]})}},LD_B_Vx:{pattern:/F[A-F0-9]33/,operation:function(t,e){var n=t.memory,r=Object(w.a)(t,["memory"]),c=e.x;return r.v[c].toString().padStart(3,"0").split("").map((function(t){return Number(t)})).forEach((function(t,e){return n[r.i+e]=t})),Object(V.a)(Object(V.a)({},r),{},{memory:n})}},LD_I_Vx:{pattern:/F[A-F0-9]55/,operation:function(t,e){var n=t.memory,r=Object(w.a)(t,["memory"]),c=e.x;return r.v.slice(0,c+1).forEach((function(t,e){return n[r.i+e]=t})),Object(V.a)(Object(V.a)({},r),{},{memory:n})}},LD_Vx_I:{pattern:/F[A-F0-9]65/,operation:function(t,e){var n=t.v,r=Object(w.a)(t,["v"]),c=e.x;return r.memory.slice(r.i,r.i+c+1).forEach((function(t,e){return n[e]=t})),Object(V.a)(Object(V.a)({},r),{},{v:n})}}},D=function(t){var e=4095&t,n=255&t,r=(3840&t)>>8,c=(240&t)>>4,a=15&t,o=Object.entries(E).find((function(e){var n=Object(s.a)(e,2)[1].pattern;return t.toString(16).toUpperCase().match(n)}));return{instruction:Object(s.a)(o,1)[0],nnn:e,kk:n,x:r,y:c,n:a}},R=[240,144,144,144,240,32,96,32,32,112,240,16,240,128,240,240,16,240,16,240,144,144,240,16,16,240,128,240,16,240,240,128,240,144,240,240,16,32,64,64,240,144,240,144,240,240,144,240,16,240,240,144,240,144,144,224,144,224,144,224,240,128,128,128,240,224,144,144,144,224,240,128,240,128,240,240,128,240,128,128],S={memory:new Uint8Array(4096),v:new Uint8Array(16),i:0,delayTimer:0,soundTimer:0,pc:512,stack:new Array,paused:!1,speed:10,debugMode:!1},T=function(t,e,n){var c=Object(r.useRef)(Object(V.a)({},S)),a=Object(r.useState)(null),o=Object(s.a)(a,2),u=o[0],i=o[1],b=function(){for(var e=0;e<c.current.speed;e++){var r=c.current,a=r.memory,o=r.pc;if(!r.paused){var u=a[o]<<8|a[o+1]<<0;c.current.pc=c.current.pc+2,f(u)}}c.current.paused||(c.current.delayTimer=Math.max(c.current.delayTimer-1,0),c.current.soundTimer=Math.max(c.current.soundTimer-1,0)),c.current.soundTimer>0?n.play(440):n.stop(),t.draw()},f=function(r){var a=D(r),o=a.instruction,u=Object(w.a)(a,["instruction"]),i=E[o].operation;c.current.debugMode&&console.log(o,u),c.current=i(c.current,u,{keyboard:e,renderer:t,speaker:n})};return{start:function(){if(!u){var t=setInterval(b,20);i(t)}},stop:function(){clearInterval(u),i(null)},isRunning:function(){return Boolean(u)},loadRom:function(t){c.current=Object(V.a)({},S);for(var e=0;e<R.length;e++)c.current.memory[e]=R[e];for(var n=new Uint8Array(t),r=0;r<n.length;r++)c.current.memory[512+r]=n[r]},toggleLogging:function(){c.current.debugMode=!c.current.debugMode}}},L={49:1,50:2,51:3,52:12,81:4,87:5,69:6,82:13,65:7,83:8,68:9,70:14,90:10,88:0,67:11,86:15},q=function(){var t=Object(r.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(null),o=Object(s.a)(a,2),u=o[0],i=o[1];return Object(r.useEffect)((function(){var t=function(t){var e=t.keyCode,n=L[e];void 0!==n&&(c((function(t){return t[n]=!0,t})),null!==u&&(u(n),i(null)))},e=function(t){var e=t.keyCode,n=L[e];void 0!==n&&c((function(t){return t[n]=!1,t}))};return window.addEventListener("keydown",t,!1),window.addEventListener("keyup",e,!1),function(){window.removeEventListener("keydown",t,!1),window.removeEventListener("keyup",e,!1)}}),[u]),{isKeyPressed:function(t){return n[t]},setOnNextKeyPress:i}},C=64,M=function(t,e){return Array.from({length:t}).map((function(){return Array.from({length:e}).fill(0)}))},B=function(t){var e=Object(r.useRef)(null),n=Object(r.useRef)(M(C,32)),c=Object(r.useRef)(1),a=Object(r.useRef)(t);Object(r.useEffect)((function(){var t=e.current,n=t.getContext("2d");t.style.width="100%",c.current=t.offsetWidth/C,n.canvas.width=C*c.current,n.canvas.height=32*c.current}),[e]),Object(r.useEffect)((function(){a.current=t}),[t]);return{ref:e,draw:function(){var t=e.current.getContext("2d");t.fillStyle=a.current.background,t.fillRect(0,0,C*c.current,32*c.current),t.fillStyle=a.current.fill,n.current.forEach((function(e,n){return e.forEach((function(e,r){return e&&t.fillRect(n*c.current,r*c.current,Math.ceil(c.current+1),Math.ceil(c.current+1))}))}))},setPixel:function(t,e,r){t%=C,e%=32;var c=n.current[t][e]&r;return n.current[t][e]^=r,c},clear:function(){n.current=M(C,32)}}},P=function(){var t=Object(r.useRef)(new(window.AudioContext||window.webkitAudioContext)),e=Object(r.useRef)(t.current.createGain()),n=Object(r.useRef)(null);Object(r.useEffect)((function(){var n=t.current.destination;e.current.connect(n)}),[t,e]);return{play:function(r){!n.current&&t.current&&(n.current=t.current.createOscillator(),n.current.frequency.setValueAtTime(r||440,t.current.currentTime),n.current.type="square",n.current.connect(e.current),n.current.start())},stop:function(){n.current&&(n.current.stop(),n.current.disconnect(),n.current=null)},setMute:function(n){e.current.setValueAtTime(n,t.currentTime)}}},I=n(8),N=p.a.Content,K=p.a.Sider,U=v.a.Item,Y=v.a.SubMenu,J=Object(f.a)(p.a)(g||(g=Object(b.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n"]))),z=Object(f.a)(N)(_||(_=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]))),G={fill:"#FFFFFF",background:"#EAD7D7"},H={fill:"#b4e5af",background:"#000000"},W=function(){var t=Object(r.useState)(H),e=Object(s.a)(t,2),n=e[0],c=e[1],a=q(),o=P(),b=B(n),f=T(b,a,o),j=Object(r.useState)([]),m=Object(s.a)(j,2),y=m[0],A=m[1];Object(r.useEffect)((function(){(function(){var t=Object(i.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("/chip8","/roms/index.json"));case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,A(n),F(n[Math.floor(Math.random()*n.length)]);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var F=function(){var t=Object(i.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.clear(),t.next=3,fetch("".concat("/chip8","/roms/").concat(e));case 3:return n=t.sent,t.t0=f,t.next=7,n.arrayBuffer();case 7:t.t1=t.sent,t.t0.loadRom.call(t.t0,t.t1),f.start();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=l()(n.background).isLight()?"light":"dark";return Object(I.jsxs)(J,{children:[Object(I.jsx)(K,{width:"250px",collapsible:!0,defaultCollapsed:!0,theme:g,style:{overflow:"auto"},children:Object(I.jsxs)(v.a,{theme:g,mode:"inline",children:[Object(I.jsxs)(Y,{icon:Object(I.jsx)(O.a,{}),title:"Games",style:{marginTop:"20px"},children:[Object(I.jsxs)(U,{onClick:function(){F(y[Math.floor(Math.random()*y.length)])},children:[Object(I.jsx)(d.a,{component:k})," Random"]},"randomrom"),y.map((function(t){return Object(I.jsx)(U,{onClick:function(){return F(t)},children:t.match(/[^.]+/)},t)}))]},"games"),Object(I.jsxs)(Y,{icon:Object(I.jsx)(x.a,{}),title:"Themes",children:[Object(I.jsxs)(U,{onClick:function(){return function(){var t=function(){return"#".concat(Math.floor(Math.random()*Math.pow(2,24)).toString(16).padStart(6,0))};c({fill:t(),background:t()})}()},children:[Object(I.jsx)(d.a,{component:k})," Random"]},"randomtheme"),Object(I.jsx)(U,{onClick:function(){return c(H)},children:"Dark"},"dark"),Object(I.jsx)(U,{onClick:function(){return c(G)},children:"Light"},"light")]},"themes"),Object(I.jsxs)(Y,{icon:Object(I.jsx)(h.a,{}),title:"Dev Tools",children:[f.isRunning()?Object(I.jsx)(U,{onClick:function(){return f.stop()},children:"Pause"},"pause"):Object(I.jsx)(U,{onClick:function(){return f.start()},children:"Resume"},"resume"),Object(I.jsx)(U,{onClick:function(){return f.toggleLogging()},children:"Toggle Console Logging"},"console")]},"devtools")]})}),Object(I.jsx)(p.a,{children:Object(I.jsx)(z,{style:{background:n.background},children:Object(I.jsx)("canvas",{ref:b.ref})})})]})};a.a.render(Object(I.jsx)(W,{}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.447ae490.chunk.js.map